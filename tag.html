---
title: Posts by Tag
---

<h2 id="title"></h2>
<ul id="posts"></ul>

<script>
  const params = new URLSearchParams(location.search);
  const current_tag = params.get("tag") ?? localStorage.getItem('lastTagOpened');
  if(params.get("tag")) {
    localStorage.setItem('lastTagOpened', current_tag);
    window.history.pushState({}, "", window.location.href.split("?")[0]);
  }
  
  document.getElementById("title").textContent = current_tag;
  
  fetch("{{ '/assets/js/posts.json' | relative_path }}")
  .then(r => r.json())
  .then(posts => {
    const postsList = document.getElementById("posts");

    posts
    .filter(p => p.tags.includes(current_tag))
    .forEach(p => {
      const li = document.createElement("li");
      li.innerHTML = `<a href="${p.url}">${p.title}</a>`;
      postsList.appendChild(li);
    });
  });
</script>